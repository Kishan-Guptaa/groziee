<% layout("/layouts/boilerplate") %>
<body>

  
  
  <% function slugify(name) {
    return name.toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/(^-|-$)/g, "");
  } %>

 <!-- Categories Grid -->
  <div class="container mb-5 my-4 landing-container">
    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-4">
      <% categories.forEach(category => { %>
        <div class="col">
          <div class="card h-100 shadow-sm border-0 category-card">
            <div class="card-body p-3 d-flex flex-column align-items-center text-center">
              <!-- Category Image -->
              <img src="/images/<%= slugify(category.name) %>.jpg"
                   alt="<%= category.name %> image"
                   onerror="this.onerror=null; this.src='/images/default.jpg';"
                   class="mb-3 category-image"/>
              <!-- Title & Description -->
              <h5 class="card-title"><%= category.name %></h5>
              <p class="card-text text-muted" style="font-size: 14px;"><%= category.description %></p>
              <!-- Action -->
              <a href="/category/<%= slugify(category.name) %>" class="btn btn-outline-success mt-auto">See Products</a>
            </div>
          </div>
        </div>
      <% }) %>
    </div>
  </div>
</body>
</html>
